import type { GeneratedItineraryResponse } from '@/lib/ai/schemas';

// Pre-built fallback itineraries for common profiles
export const cachedItineraries: Record<string, GeneratedItineraryResponse> = {
  'adventure-couple-week': {
    days: [
      {
        dayNumber: 1,
        destinationId: 'entebbe',
        title: 'Arrival & Lakeside Welcome',
        activities: ['Botanical Gardens walk', 'Lakeside sunset dinner'],
        estimatedCostUSD: { min: 60, max: 120 },
        travelNotes: 'Relax after your flight. Entebbe is right next to the airport.',
        whyThisFitsYou: 'A gentle start to acclimatize before your adventure begins.',
        meals: 'Dinner at a lakeside restaurant',
        accommodation: 'Mid-range hotel in Entebbe',
      },
      {
        dayNumber: 2,
        destinationId: 'murchison-falls',
        title: 'Journey to Murchison Falls',
        activities: ['Drive to Murchison via Ziwa Rhino Sanctuary', 'Rhino tracking on foot', 'Evening game drive'],
        estimatedCostUSD: { min: 150, max: 250 },
        travelNotes: '5-hour drive with a rhino tracking stop en route. Arrive by afternoon.',
        whyThisFitsYou: 'You wanted wildlife — today you walk with rhinos and spot your first savannah animals.',
        meals: 'Packed lunch, lodge dinner',
        accommodation: 'Safari lodge in Murchison Falls NP',
      },
      {
        dayNumber: 3,
        destinationId: 'murchison-falls',
        title: 'The Falls & the Nile',
        activities: ['Morning game drive', 'Nile boat cruise to the falls base', 'Hike to top of the falls'],
        estimatedCostUSD: { min: 120, max: 200 },
        travelNotes: 'Full day in the park. Morning drive, afternoon cruise.',
        whyThisFitsYou: 'The boat cruise to the base of the falls is one of Africa\'s most dramatic wildlife moments.',
        meals: 'Full board at lodge',
        accommodation: 'Safari lodge in Murchison Falls NP',
      },
      {
        dayNumber: 4,
        destinationId: 'kibale',
        title: 'Western Uganda & Primates',
        activities: ['Drive to Fort Portal', 'Crater lakes exploration', 'Evening tea plantation visit'],
        estimatedCostUSD: { min: 100, max: 180 },
        travelNotes: '6-hour scenic drive through Uganda\'s heartland.',
        whyThisFitsYou: 'The crater lakes of Fort Portal are a photographer\'s dream — emerald gems in green hills.',
        meals: 'Lunch en route, lodge dinner',
        accommodation: 'Lodge near Kibale Forest',
      },
      {
        dayNumber: 5,
        destinationId: 'kibale',
        title: 'Chimpanzee Trekking',
        activities: ['Morning chimpanzee trekking', 'Bigodi Wetland walk', 'Afternoon relaxation'],
        estimatedCostUSD: { min: 250, max: 350 },
        travelNotes: 'Chimp trek starts early morning. Permit required ($200).',
        whyThisFitsYou: 'As a couple seeking wildlife, watching chimps interact in their family groups is deeply moving.',
        meals: 'Full board at lodge',
        accommodation: 'Lodge near Kibale Forest',
        highlights: ['Chimpanzee encounter', 'Bigodi Wetland birding'],
      },
      {
        dayNumber: 6,
        destinationId: 'queen-elizabeth',
        title: 'Queen Elizabeth Safari',
        activities: ['Drive to Queen Elizabeth NP', 'Afternoon Kazinga Channel boat cruise'],
        estimatedCostUSD: { min: 130, max: 220 },
        travelNotes: '2-hour drive from Kibale to Queen Elizabeth NP.',
        whyThisFitsYou: 'The Kazinga Channel cruise delivers hippos, elephants, and incredible birdlife from the water.',
        meals: 'Lodge meals',
        accommodation: 'Safari lodge in Queen Elizabeth NP',
      },
      {
        dayNumber: 7,
        destinationId: 'queen-elizabeth',
        title: 'Tree-Climbing Lions & Homeward',
        activities: ['Early morning game drive in Ishasha sector', 'Search for tree-climbing lions', 'Drive back to Kampala/Entebbe'],
        estimatedCostUSD: { min: 130, max: 200 },
        travelNotes: 'Long drive back (6+ hours). Alternatively, fly from Kasese.',
        whyThisFitsYou: 'Tree-climbing lions are one of Africa\'s rarest sights — the perfect finale to your adventure.',
        meals: 'Breakfast at lodge, lunch en route',
        accommodation: 'Transit or Entebbe hotel',
      },
    ],
    summary: {
      totalBudgetUSD: { min: 940, max: 1520 },
      totalDays: 7,
      bestValueHighlights: [
        'Rhino tracking at Ziwa is incredibly affordable for the experience',
        'Kazinga Channel cruise offers unbeatable wildlife per dollar',
        'Fort Portal crater lakes are free to explore',
      ],
      bookingPriorities: [
        'Book Kibale chimpanzee permit in advance',
        'Reserve safari lodges early in peak season',
        'Confirm domestic flight if skipping the drive back',
      ],
      seasonalWarnings: ['Rainy season (Mar-May) can make some park roads challenging'],
      overallWhyThisTrip: 'This itinerary gives you Uganda\'s greatest hits — rhinos, chimps, tree-climbing lions, and the thundering Nile — in a well-paced week that balances adventure with comfort.',
    },
    alternatives: [
      {
        type: 'budget',
        title: 'Budget Wildlife Week',
        description: 'Same destinations with budget camping and public transport where possible.',
        estimatedBudgetUSD: { min: 500, max: 800 },
        durationDays: 7,
        keyDifferences: ['Budget camping instead of lodges', 'Shared transport', 'Skip one permit activity'],
        destinations: ['entebbe', 'murchison-falls', 'kibale', 'queen-elizabeth'],
      },
      {
        type: 'premium',
        title: 'Luxury Uganda Safari',
        description: 'Add gorilla trekking in Bwindi and premium lodges throughout.',
        estimatedBudgetUSD: { min: 3000, max: 5000 },
        durationDays: 10,
        keyDifferences: ['Add Bwindi gorilla trekking', 'Premium luxury lodges', 'Private vehicle and guide', 'Internal flights'],
        destinations: ['entebbe', 'murchison-falls', 'kibale', 'queen-elizabeth', 'bwindi-impenetrable'],
      },
      {
        type: 'short',
        title: 'Weekend Wildlife Escape',
        description: 'A concentrated 3-day safari hitting the highlights near Kampala.',
        estimatedBudgetUSD: { min: 350, max: 550 },
        durationDays: 3,
        keyDifferences: ['Focus on Jinja and Lake Mburo', 'Closer to Kampala', 'Less driving'],
        destinations: ['jinja', 'lake-mburo'],
      },
    ],
  },
};

export function findCachedItinerary(profile: string): GeneratedItineraryResponse | null {
  return cachedItineraries[profile] || cachedItineraries['adventure-couple-week'] || null;
}
